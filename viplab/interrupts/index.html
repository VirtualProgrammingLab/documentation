<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Interrupts - ViPLab</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">ViPLab</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Welcome to the Viplab documentation</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Ecs2 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../ecs2/" class="dropdown-item">Core ECS</a>
</li>
                                    
<li>
    <a href="../../ecs2/example/" class="dropdown-item">Beispiele</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Rest <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../rest/" class="dropdown-item">ECS REST Interface</a>
</li>
                                    
<li>
    <a href="../../rest/auths/" class="dropdown-item">Auths</a>
</li>
                                    
<li>
    <a href="../../rest/econtent/" class="dropdown-item">Econtent</a>
</li>
                                    
<li>
    <a href="../../rest/eventqueues/" class="dropdown-item">Eventqueues</a>
</li>
                                    
<li>
    <a href="../../rest/memberships/" class="dropdown-item">memberships</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Viplab <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../" class="dropdown-item">Index</a>
</li>
                                    
<li>
    <a href="../exercises/" class="dropdown-item">/numlab/exercises</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Interrupts</a>
</li>
                                    
<li>
    <a href="../results/" class="dropdown-item">/numlab/results</a>
</li>
                                    
<li>
    <a href="../solutions/" class="dropdown-item">/numlab/solutions</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Viplab3.0 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../viplab3.0/" class="dropdown-item">Index</a>
</li>
                                    
<li>
    <a href="../../viplab3.0/computation/" class="dropdown-item">Computation JSON Message</a>
</li>
                                    
<li>
    <a href="../../viplab3.0/computation_result/" class="dropdown-item">Computation Result JSON Message</a>
</li>
                                    
<li>
    <a href="../../viplab3.0/computation_task/" class="dropdown-item">Computation Task JSON Message</a>
</li>
                                    
<li>
    <a href="../../viplab3.0/computation_template/" class="dropdown-item">Computation Template JSON Message</a>
</li>
                                    
<li>
    <a href="../../viplab3.0/versioning/" class="dropdown-item">JSON Object Versioning Rules</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../exercises/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../results/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#numlabinterrupts" class="nav-link">/numlab/interrupts</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#interface" class="nav-link">Interface</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#message" class="nav-link">Message</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It's unclear, when Interrupts will be implemented: for short computations only this is not necessary (but for e.g. long running simulations).</p>
<p>@Heiko: what's the status of the broadcasting mechanism?</p>
<p>--sr</p>
</div>
<h1 id="numlabinterrupts">/numlab/interrupts</h1>
<p>Broadcast message queue.</p>
<h2 id="interface">Interface</h2>
<p>POST, GET (see <a href="/ecs2#queue-resource">''English section name unknown so far.''</a>)</p>
<h3 id="generic">Generic</h3>
<ul>
<li><strong>POST resourceURL (push)</strong>: creates Interrupt.</li>
<li><strong>POST resourceURL/fifo (pull)</strong>: gets first Interrupt and removes it from the queue.</li>
<li><strong>GET resourceURL/fifo (look)</strong>: gets first Interrupt (fifo) without removing it from the queue.</li>
</ul>
<h3 id="viplab-specific">VipLab Specific</h3>
<p>POST resourceURL (push) will be used by SCs, POST resourceURL/fifo (pull) by CCs.</p>
<p>Student clients (SCs) push Interrupts into this queue; computation clients (CCs) pulls them from there (each CC gets all Interrupts (broadcast)). For getting next Interrupt the former one has to be removed (by POST resourceURL/fifo (pull)).</p>
<ul>
<li><strong>POST resourceURL (push)</strong>: SC creates Interrupt for interrupting a computation of a formerly posted Solution.</li>
<li><strong>POST resourceURL/fifo (pull)</strong>: each CC pulls next available Interrupt. If this Interrupt matches a currently computed Solution (affects only ''one'' CC), its computation will be finished, otherwise (all other CCs) it will be ignored.</li>
<li><strong>GET resourceURL/fifo (look)</strong>: for debugging purposes only.</li>
</ul>
<p>Notes:</p>
<ul>
<li>For getting Interrupts in sensible time, CCs have to poll the queue often enough.</li>
<li>CCs have to remove all Interrupt messages not affecting them (from CC point of view it has its own queue getting all broadcasted messages). This should be done regularily ''outside'' computations, too.</li>
</ul>
<h2 id="message">Message</h2>
<h3 id="interrupt-json-definition-by-example-informal">Interrupt JSON Definition by Example (informal)</h3>
<pre><code>{ &quot;Interrupt&quot;: // wrapper
{
  &quot;postTime&quot; : &quot;1985-04-13T18:00:00.12Z&quot;, // must
  &quot;ID&quot;       : &quot;#11&quot;, // must, for tracking and debugging
  &quot;comment&quot;  : &quot;don't wanna wait anymore&quot;, // opt

  &quot;Solution&quot; :
  {
    &quot;ID&quot; : &quot;#37&quot; // ID of Solution formerly generated by SC
  } // Solution
}
} // &quot;Interrupt&quot;
</code></pre>

<h3 id="interrupt-json-format">Interrupt JSON Format</h3>
<p>wrapper "Interrupt" around the following</p>
<table>
<thead>
<tr>
<th>Key [--Subkey]</th>
<th>Type</th>
<th>Opt / Must</th>
<th>Description</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>postTime</td>
<td>string UTC</td>
<td>must</td>
<td>timestamp from SC</td>
<td>Timestamp from SC: in addition a CC side timestamp could be made.</td>
</tr>
<tr>
<td>ID</td>
<td>string</td>
<td>must</td>
<td>unique ID created by SC (automatically)</td>
<td>For tracking and debugging purposes.</td>
</tr>
<tr>
<td>comment</td>
<td>string</td>
<td>opt</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Solution</td>
<td>struct</td>
<td>must</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Solution --ID</td>
<td>String</td>
<td>must</td>
<td>refers to unique Solution ID</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="notes">Notes</h3>
<ul>
<li>The computation the Interrupt applies to is defined by<ul>
<li>Solution--ID above, and</li>
<li>sender identity: this is given outside this JSON-Message.</li>
</ul>
</li>
<li>An alternative could be to use UUIDs for Solution--IDs: but we already need/have some sender identity for routing back Results to Solution senders (and can use it here, too).</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
