<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Computation Template JSON Message - ViPLab</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">ViPLab</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Welcome to the Viplab documentation</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Ecs2 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../ecs2/" class="dropdown-item">Core ECS</a>
</li>
                                    
<li>
    <a href="../../ecs2/example/" class="dropdown-item">Beispiele</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Rest <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../rest/" class="dropdown-item">ECS REST Interface</a>
</li>
                                    
<li>
    <a href="../../rest/auths/" class="dropdown-item">Auths</a>
</li>
                                    
<li>
    <a href="../../rest/econtent/" class="dropdown-item">Econtent</a>
</li>
                                    
<li>
    <a href="../../rest/eventqueues/" class="dropdown-item">Eventqueues</a>
</li>
                                    
<li>
    <a href="../../rest/memberships/" class="dropdown-item">memberships</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Viplab <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../viplab/" class="dropdown-item">Index</a>
</li>
                                    
<li>
    <a href="../../viplab/exercises/" class="dropdown-item">/numlab/exercises</a>
</li>
                                    
<li>
    <a href="../../viplab/interrupts/" class="dropdown-item">Interrupts</a>
</li>
                                    
<li>
    <a href="../../viplab/results/" class="dropdown-item">/numlab/results</a>
</li>
                                    
<li>
    <a href="../../viplab/solutions/" class="dropdown-item">/numlab/solutions</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Viplab3.0 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../" class="dropdown-item">Index</a>
</li>
                                    
<li>
    <a href="../computation/" class="dropdown-item">Computation JSON Message</a>
</li>
                                    
<li>
    <a href="../computation_result/" class="dropdown-item">Computation Result JSON Message</a>
</li>
                                    
<li>
    <a href="../computation_task/" class="dropdown-item">Computation Task JSON Message</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Computation Template JSON Message</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../computation_task/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" class="nav-link disabled">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#computation-template-json-message" class="nav-link">Computation Template JSON Message</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#example-informal" class="nav-link">Example (informal)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#explaining-the-json-format" class="nav-link">Explaining the JSON Format</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="computation-template-json-message">Computation Template JSON Message</h1>
<p>A <em>computation template</em>  can be </p>
<ul>
<li>the definition of an <em>Exercise</em> in the context of a learning environment, or</li>
<li>a pre-configured research software (stored in a docker image), used to show reproducability of a research work or to reduce complex software environments to specific functionality</li>
</ul>
<h2 id="example-informal">Example (informal)</h2>
<p>Note: <code>//</code> with text following until EOL is a comment,</p>
<ul>
<li>which is not covered by the JSON spec, and</li>
<li>should not be contained in message sends in real;</li>
<li>but nevertheless it would help, if JSON parsers could just ignore them.</li>
</ul>
<pre><code>{ &quot;identifier&quot;  : &quot;11483f23-95bf-424a-98a5-ee5868c85c3e&quot;, // uuid, created by a frontend launcher
  &quot;version&quot; : &quot;3.0.0&quot; // version of this JSON-spec definition
  &quot;metadata&quot;: // information for frontend
    { &quot;displayName&quot; : &quot;Aufgabe 1&quot;,  // name of computation template shown in frontend
      &quot;description&quot; : &quot;Schreiben Sie eine C-Funktion...&quot;, // short description (could be used  
                                                     // as subtitle, further descriptions in &quot;parts&quot;).
    },
  &quot;environment&quot; : &quot;C&quot;, // important for interpreting configuration 
  &quot;files&quot; : // must: at least one array element
  [
    { &quot;identifier&quot;: &quot;22483f42-95bf-984a-98a5-ee9485c85c3e&quot;, // uuid, for referencing
      &quot;path&quot;      : &quot;code.c&quot;                                // filename on backend 
      &quot;metadata&quot;  : // information for frontend
        {  &quot;syntaxHighlighting&quot;: &quot;C&quot;,                    // optional (default: &quot;none&quot;)
        },
      &quot;parts&quot; : // must: at least one array element
      [ 
        { &quot;identifier&quot;: &quot;preamble&quot;,
          &quot;access&quot;    : &quot;visible&quot;,   // it is rendered, but can not be changed
          &quot;metadata&quot;  : // what has to be moved to files ?
          { &quot;name&quot;    : &quot;Info: source before your code.&quot;, // name of element in frontend
            &quot;emphasis&quot;  : &quot;low&quot;                           // optional (for rendering)          
          },
          &quot;content&quot;   : &quot;I2luY2x1ZGUgPHN0ZGlvLmg-Cg&quot;      // source (base64url encoded) 
                                                          // decoded: #include &lt;stdio.h&gt;\n
        },
        { &quot;identifier&quot;: &quot;codeFromStudent&quot;,
          &quot;access&quot;    : &quot;modifiable&quot;,             // it can be edited in the frontend
          &quot;metadata&quot;  :
          { &quot;name&quot;    : &quot;Fill in your code!&quot;,
            &quot;emphasis&quot;  : &quot;medium&quot;
          },
          &quot;content&quot; : &quot;dm9pZCBiYXIoKSB7IC8qIFNjaHJlaWJlbiBTaWUgaGllciBDb2RlLCBkZXIgImJhciIgYXVzZ2lidC4gKi8KCn0K&quot;
            // source (template)
            // decoded: void bar() { /* Schreiben Sie hier Code, der &quot;bar&quot; ausgibt. */\n\n}\n 
        },
        { &quot;identifier&quot;: &quot;postscript&quot;,
          &quot;access&quot;    : &quot;visible&quot;,
          &quot;metadata&quot;  :
          { &quot;name&quot;      : &quot;Info: source after your code calling bar() in it.&quot;,
            &quot;emphasis&quot;  : &quot;low&quot;,
          },
          &quot;content&quot; : &quot;aW50IG1haW4oKSB7IGJhcigpOyByZXR1cm4gMDsgfQ&quot; // source
                                                // decoded: int main() { bar(); return 0; }
        }
      ] // parts[]
    }
  ], // files[]
  &quot;parameters&quot; : // parameters can be used to supply values at runtime to the configuration
  { &quot;__STEPWIDTH__&quot; :
    { &quot;guiType&quot; : &quot;input_field&quot;,
      &quot;name&quot;     : &quot;stepwidth&quot;,
      &quot;type&quot;     : &quot;number&quot;,
      &quot;value&quot;    : 0.001, //default
      &quot;min&quot;      : 0,
      &quot;max&quot;      : 1,
      &quot;step&quot;     : 0.001,
      &quot;validation&quot; : &quot;range&quot; // one of [range, pattern (regex), anyof/oneof]
    }
  },
  &quot;configuration&quot; :
  { &quot;compiling.compiler&quot; : &quot;gcc&quot;,                  // string
    &quot;compiling.flags&quot;    : &quot;-O2 -Wall&quot;             // string
    &quot;checking.sources&quot;   : [&quot;codeFromStudent&quot;],    // identifier to parts
    &quot;checking.forbiddenCalls&quot;: &quot;system execve&quot;,    // forbidden call names separated by WS
    &quot;linking.flags&quot;      : &quot;-lm&quot;,                  // string
    &quot;running.commandLineArguments&quot; : &quot;--stepwidth {{ __STEPWIDTH__ }}&quot;
                                               // mustache template if parameters are used
  }
}
</code></pre>

<h2 id="explaining-the-json-format">Explaining the JSON Format</h2>
<p><em>version 3.0.0</em></p>
<table>
<thead>
<tr>
<th>Key [--Subkey]</th>
<th>Type (a default is marked by <em>italics</em>)</th>
<th>Opt / Must</th>
<th>Description</th>
<th>Comment</th>
<th>AS</th>
</tr>
</thead>
<tbody>
<tr>
<td>identifier</td>
<td>string (UUID)</td>
<td>must</td>
<td>the identifier of this computation template</td>
<td>can be generated by the frontend launcher</td>
<td></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>opt</td>
<td>version of the json specification</td>
<td>should be given for backwards compatibility</td>
<td></td>
</tr>
<tr>
<td>metadata</td>
<td>struct</td>
<td>opt</td>
<td>contains information for frontend</td>
<td></td>
<td></td>
</tr>
<tr>
<td>metadata --displayName</td>
<td>string</td>
<td>opt</td>
<td>name of computation template shown in frontend</td>
<td></td>
<td>Makes 'opt' sense for frontend?</td>
</tr>
<tr>
<td>metadata --description</td>
<td>string (plain text)</td>
<td>opt</td>
<td>short description</td>
<td>Mostly a few lines. A longer description in different formats can be put in "elements" (see below).</td>
<td>There is nothing 'below'. Where are descriptions actually used in the frontend?</td>
</tr>
<tr>
<td>metadata --viewer</td>
<td>one or more (list) of {"Image", "ParaView", "ViPLabGraphics"}</td>
<td>opt</td>
<td>When given, specific file extension, like ".vtu" are interpreted by the frontend for displaying results. Otherwise files are only downloadable.</td>
<td></td>
<td></td>
</tr>
<tr>
<td>environment</td>
<td>one of {"C", "C++", "Java", "Matlab", "Octave", "Container", "DuMuX"}</td>
<td>must</td>
<td>Specifies the environment used for the Computation. It defines language, runtime, libraries and tools</td>
<td></td>
<td></td>
</tr>
<tr>
<td>files</td>
<td>[ {...}, {...}, ... ]</td>
<td>must</td>
<td>array containing <a href="#json-objects-in-files">File objects</a>: there has to be at least one element</td>
<td></td>
<td></td>
</tr>
<tr>
<td>parameters</td>
<td>{PARAM_ID, PARAM_ID, ...}</td>
<td>opt</td>
<td>Parameters can be used to supply values at runtime to the configuration. Each parameter has a unique PARAM_ID (string) and is a <a href="#json-object-parameter">JSON object</a>.</td>
<td>For security reasons free text <em>gui_type</em>, i.e., text input field or editor, are not allowed here.</td>
<td></td>
</tr>
<tr>
<td>configuration</td>
<td>struct</td>
<td>opt/must (depends on environment)</td>
<td>Environment specific configurations</td>
<td>Different phases can be configured like compiling, checking (for legal function calls in source code), ...</td>
<td></td>
</tr>
<tr>
<td>configuration --compiling.sources</td>
<td>[FILE_ID, FILE_ID, ...]</td>
<td>must</td>
<td>Array of identifiers of <a href="#json-objects-in-files">JSON File objects</a>. Explicit compilation (only referenced sources will be compiled).</td>
<td>for <strong>C, C++, Java</strong>; The frontend should suggest defaults here, e.g. by suited file suffix ('.c', '.cpp', '.java').</td>
<td>name/path (Java) for implicit compiling? check backend?</td>
</tr>
<tr>
<td>configuration --compiling.compiler</td>
<td>string</td>
<td>must</td>
<td>compiler to be used, e.g. "gcc"</td>
<td>for <strong>C, C++</strong></td>
<td></td>
</tr>
<tr>
<td>configuration --compiling.flags</td>
<td>string</td>
<td>must for <strong>C, C++</strong>; optional for <strong>Java</strong></td>
<td>CFLAGS for <strong>C/C++</strong>; compile flags for <strong>Java</strong></td>
<td>e.g. "gcc" for <strong>C/C++</strong>; "-O2" or "" for <strong>Java</strong></td>
<td></td>
</tr>
<tr>
<td>configuration --checking.sources</td>
<td>[PART_ID, PART_ID, ...]</td>
<td>must if checking should be performed</td>
<td>array of identifiers of to be checked sources; given by parts[]{PART_ID} (see <a href="#json-objects-in-parts">below</a>)</td>
<td>for <strong>Matlab, Octave, C, Java</strong>; frontend should suggest all "modifiable" and "template" parts here</td>
<td></td>
</tr>
<tr>
<td>configuration --checking.allowedCalls</td>
<td>string</td>
<td>must if checking should be performed</td>
<td>for <strong>Matlab/Octave</strong>: <em>allowed</em> call names separated by WS; only idents (no braces, no func args)<br>for <strong>Java</strong>: <em>allowed</em> call name expressions separated by WS</td>
<td>for <strong>Java</strong> semantics see <a href="#java-checking-semantics">Java checking semantics</a>.</td>
<td></td>
</tr>
<tr>
<td>configuration --checking.forbiddenCalls</td>
<td>string</td>
<td>must if checking should be performed</td>
<td>for <strong>C</strong>: <em>forbidden</em> call names separated by WS; only idents (no braces, no func args)<br>for <strong>Java</strong>: <em>forbidden</em> call name expressions separated by WS</td>
<td>for <strong>C</strong> semantics see <a href="#c-checking-semantics">C checking semantics</a>); for <strong>Java</strong> semantics see <a href="#java-checking-semantics">Java checking semantics</a>.</td>
<td></td>
</tr>
<tr>
<td>configuration --linking.flags</td>
<td>string</td>
<td>must</td>
<td>LFLAGS</td>
<td>for <strong>C, C++</strong>; e.g. ""</td>
<td></td>
</tr>
<tr>
<td>configuration --running.stdinFilename</td>
<td>FILE_ID</td>
<td>must</td>
<td>the file identifier that is passed to <strong>Matlab/Octave</strong> via standard-in</td>
<td></td>
<td></td>
</tr>
<tr>
<td>configuration --running.timelimitInSeconds</td>
<td>int</td>
<td>opt</td>
<td>CPU time limit</td>
<td>for all <strong>environments</strong>; for semantics see <a href="#notes-to-timelimitinseconds">Notes to "timelimitInSeconds"</a>.</td>
<td></td>
</tr>
<tr>
<td>configuration --running.commandLineArguments</td>
<td>string</td>
<td>opt</td>
<td>for <strong>C, C++, Java</strong>: arguments given to main() function; for <strong>DuMuX, Container</strong>: additional command line args</td>
<td>mustache template syntax can be used to transform input values (e.g. of sliders) into CLI arguments (see <em>parameters</em>-attribute)</td>
<td></td>
</tr>
<tr>
<td>configuration --running.flags</td>
<td>string</td>
<td>opt</td>
<td>flags given to JVM</td>
<td>for <strong>Java</strong></td>
<td></td>
</tr>
<tr>
<td>configuration --running.mainClass</td>
<td>string</td>
<td>opt (if unique) / must (if not unique)</td>
<td>class containing "public static void main(String[] args) {"</td>
<td>for <strong>Java</strong>: "args" may be another name. If main function is unique, its correct class should be detected automatically.</td>
<td></td>
</tr>
<tr>
<td>configuration --running.executable</td>
<td>string</td>
<td>must</td>
<td>name of executable to run (as in backend file system)</td>
<td>for <strong>DuMuX</strong></td>
<td></td>
</tr>
<tr>
<td>configuration --running.entrypoint</td>
<td>string</td>
<td>opt</td>
<td>executable to run inside the container</td>
<td>for <strong>Container</strong>; can contain mustache template syntax for injecting PARAM_IDs (see <em>parameters</em>-attribute)</td>
<td></td>
</tr>
<tr>
<td>configuration --running.intermediateFilesPattern</td>
<td>string</td>
<td>opt</td>
<td>regex-expression in stdout which file is ready to be transferred</td>
<td>for <strong>Container</strong></td>
<td>Is this implemented?</td>
</tr>
<tr>
<td>configuration --resources.image</td>
<td>url</td>
<td>must</td>
<td>location of the image to be executed</td>
<td>for <strong>Container</strong>; has to be a tar</td>
<td></td>
</tr>
<tr>
<td>configuration --resources.volume</td>
<td>string</td>
<td>opt</td>
<td>path in the container where data is placed</td>
<td>for <strong>Container</strong></td>
<td>we need workaround for kata containers?!</td>
</tr>
<tr>
<td>configuration --resources.memory</td>
<td>string</td>
<td>opt (<em>64mb</em>)</td>
<td>memory limit for the container</td>
<td>for <strong>Container</strong></td>
<td></td>
</tr>
<tr>
<td>configuration --resources.numCPUs</td>
<td>int</td>
<td>opt</td>
<td>number of CPUs for the container</td>
<td>for <strong>Container</strong></td>
<td>default?; kubernetes map to softlimit cpu-shares...</td>
</tr>
</tbody>
</table>
<h3 id="c-checking-semantics">C checking semantics</h3>
<p>08.05.2013: Semantics is "mergeAndInclude" for both prod systems and devel system ("element" unused).</p>
<ul>
<li><strong>"mergeAndInclude"</strong> (default): Checked will be the merge result of elements after being preprocessed by the C preprocessor, so #include's are allowed and honored. Types have to be defined by the corresponding system headers (e.g. by <code>#include &lt;stdio.h&gt;</code>) and no predefined standard types should be expected. It's possible to have illegal function calls in source elements (being part of some merge) <strong>not</strong> being checked (typically teacher code). This means, that during checking it has to and will be looked, in which source element an illegal function call happens, for knowing, if this actually is an error case.</li>
<li><em><strong>"element"</strong></em> (unused): Each element has to contain correct C code for itself. In addition to basic types some standard types defined in system headers are predefined (e.g. FILE, size_t). Using types from the outside -- e.g. other elements defining them or #include's in teacher code elements -- does <strong>not</strong> work.</li>
</ul>
<p>Common for both: no preprocessor commands are allowed in to be checked elements, with only one exception: #include's are allowed in case of "mergeAndInclude". The reason for the latter is to give students access to source elements serving as headers - editable for them or not. Functions from system headers could be #include'd, too.</p>
<p>The teacher has the responsibility to put unwished system calls like system() and others from libc into "forbiddenCalls".
Another point of control is to avoid linking with libs, whose functions shouldn't be used (this does not work with libc (automatically linked)).</p>
<h3 id="java-checking-semantics">Java checking semantics</h3>
<pre><code>Matching expressions for use in &quot;allowedCalls&quot; and &quot;forbiddenCalls&quot;

'**' is for pure prefix matching; '*' for more fine-granular matching.

Examples of matching expressions:
- java.io.*   matches all calls to methods in all classes in package, but does not match calls to methods in classes in subpackages;
- java.io.**  matches all calls to methods in all classes in package, _and_ in all classes in subpackages (if they exist);

- java.io.Foo    matches all calls to methods in class Foo, _and_ to methods in inner classes;
- java.io.Foo.*  &quot;       &quot;   &quot;     &quot;  &quot;       &quot;  &quot;     &quot;  , but _not_ to methods in inner classes (eg. to java.io.Foo$Bar.callMe);

- java.io.Foo.callMe     matches (only) the call to method callMe in Foo;
- java.io.Foo$Bar.callMe matches (only) the call to method callMe in inner class Foo$Bar.

If used in &quot;forbiddenCalls&quot; only (property &quot;allowedCalls&quot; missing):
- java.io.*   forbids all calls to methods in all classes in package, but allows calls to methods in classes in subpackages;
- java.io.**  forbids all calls to methods in all classes in package, _and_ in all classes in subpackages (if they exist);

- java.io.Foo    forbids all calls to methods in class Foo, _and_ to methods in inner classes;
- java.io.Foo.*  &quot;       &quot;   &quot;     &quot;  &quot;       &quot;  &quot;     &quot;  , but _not_ to methods in inner classes (eg. to java.io.Foo$Bar.callMe);

- java.io.Foo.callMe     forbids (only) the call to method callMe in Foo;
- java.io.Foo$Bar.callMe forbids (only) the call to method callMe in inner class Foo$Bar.

One or more of these expressions may be given by &quot;allowedCalls&quot; and/or &quot;forbiddenCalls&quot;, separated by WS; e.g.
  &quot;forbiddenCalls&quot;: &quot;java.io.** java.lang.Class&quot;
.


An allowed() or forbidden() predicate gives true,
- if one of its corresponding matching expressions - an entry in property &quot;allowedCalls&quot; resp. &quot;forbiddenCalls&quot; - matches, or
- if there is no corresponding property given at all.
Otherwise it gives false.

All calls will be filtered by following composed predicate for getting allowed ones:
  allowed(call) &amp;&amp; ! forbidden(call)   &lt;=&gt;  ! forbidden(call) &amp;&amp; allowed(call)
.

If only one part is given, this predicate reduces to:
  allowed(call)
resp.
  ! forbidden(call)
.

Default for not given part of predicate is
- 'no forbidden': ! forbidden(call) == true, and
- 'all allowed' : allowed(call)     == true.
(opposite defaults would render the given part useless).

If sets 'allowed' and 'forbidden'
- are disjunct         -&gt; 'allowed' are allowed and all other forbidden.
- have an intersection -&gt; ('allowed' minus intersection) is allowed (all other forbidden).

With this logic it is possible to define
- a negative list by giving 'forbiddenCalls' only, or
- a positive one by giving &quot;allowedCalls&quot;, or
- a mixture of both.
</code></pre>

<h3 id="notes-to-timelimitinseconds">Notes to "timelimitInSeconds"</h3>
<p>There is a default CPU time limit (see RLIMIT_CPU of 'man setrlimit') for running or interpreting, which depends on backend configuration. This is good for terminating non-terminating programs, e.g. endless loops.</p>
<p>Optional attribute "timelimitInSeconds" may lower this default CPU time limit; if it is higher than default, it will be ignored.</p>
<p>Setting it to a value as much as possible below default is good for backend response time under high load; especially, if default is configured for performing expensive computations.</p>
<h3 id="json-objects-in-files">JSON objects in files</h3>
<p>An object in array files[] has the following members:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type (an enum default is marked by <em>italics</em>)</th>
<th>Opt / Must</th>
<th>Description</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>identifier</td>
<td>string (UUID)</td>
<td>must</td>
<td>for later referencing, has to be unique</td>
<td>can be autogenerated by frontend</td>
</tr>
<tr>
<td>path</td>
<td>string</td>
<td>must</td>
<td>absolute path to file</td>
<td>It is <em>not</em> allowed to start with '/'</td>
</tr>
<tr>
<td>metadata</td>
<td>struct</td>
<td>opt</td>
<td>contains information for frontend</td>
<td></td>
</tr>
<tr>
<td>metadata --syntaxHighlighting</td>
<td>string (<em>text</em>)</td>
<td>opt</td>
<td>Mode of the ace editor. List can be found in on <a href="https://github.com/ajaxorg/ace/tree/master/lib/ace/mode">github</a></td>
<td>Examples: "ini", "c_cpp", "matlab", "java". See also <a href="http://ajaxorg.github.io/ace-builds/kitchen-sink.html">Ace demo</a></td>
</tr>
<tr>
<td>parts</td>
<td>[{...}, {...}, ...]</td>
<td>must</td>
<td>array containing <a href="#json-objects-in-parts">part objects</a>. There has to be at least one.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="json-objects-in-parts">JSON objects in parts</h3>
<p>An object in array parts[] has the following members:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type (an enum default is marked by <em>italics</em>)</th>
<th>Opt / Must</th>
<th>Description</th>
<th>Comment</th>
<th>AS</th>
</tr>
</thead>
<tbody>
<tr>
<td>identifier</td>
<td>string</td>
<td>must</td>
<td>for later referencing, has to be unique</td>
<td>can be autogenerated by frontend</td>
<td></td>
</tr>
<tr>
<td>access</td>
<td>one of {"invisible", "visible", "modifiable", "template"}</td>
<td>must</td>
<td>defines the access level of this part for the user</td>
<td>see <a href="#notes-on-access-levels-in-parts">Notes on access levels</a> for more details</td>
<td></td>
</tr>
<tr>
<td>metadata</td>
<td>struct</td>
<td>opt</td>
<td>contains information mainly for the frontend</td>
<td></td>
<td></td>
</tr>
<tr>
<td>metadata --name</td>
<td>string</td>
<td>opt</td>
<td>additional description of this part</td>
<td>To be shown in the frontend</td>
<td>Where? Is it used?</td>
</tr>
<tr>
<td>metadata --emphasis</td>
<td>One of {"low", <em>"medium"</em>, "high"}</td>
<td>opt</td>
<td>info for rendering</td>
<td></td>
<td>Still needed?</td>
</tr>
<tr>
<td>metadata --PARAM_ID</td>
<td>struct</td>
<td>opt</td>
<td>definition of <a href="#json-object-parameter">parameters</a> that are injected to <em>content</em> at runtime</td>
<td>Any number of parameters can be specified, but the PARAM_ID has to be unique.</td>
<td></td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>must</td>
<td>base64url-encoded source code</td>
<td>Can contain mustache expressions with PARAM_IDs if the access type of this part is "template".</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="notes-on-access-levels-in-parts">Notes on access levels in parts</h4>
<p>Four access levels can be specified inside a part:</p>
<ul>
<li><strong>invisible</strong>: The <em>content</em> is not shown to a user, i.e., student or re-user of a software. This can be used to hide irrelevant source code from the user, to focus on the important parts, etc...</li>
<li><strong>visible</strong>: The <em>content</em> is shown to a user, but can not be changed by him/her.</li>
<li><strong>modifiable</strong>: The <em>content</em> is shown to a user and can be changed. This comprise functions students should implement or input files of a research software that can be changed by a re-user.</li>
<li><strong>template</strong>: The <em>content</em> is shown to a user, but can not be changed. Additionally, GUI elements like input fields, sliders, buttons, etc. that are specified within the <em>metadata</em> can be set by the user and the template is then filled with these parameter values. This access-level can be used to simplify complex research software configurations for the re-user. </li>
</ul>
<h3 id="json-object-parameter">JSON object Parameter</h3>
<p>An PARAM_ID-object, like <em>__BINARY__</em>, has the following members:</p>
<table>
<thead>
<tr>
<th>Key [--Subkey]</th>
<th>Type (a default is marked by <em>italics</em>)</th>
<th>Opt / Must</th>
<th>Description</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>guiType</td>
<td>one of {<em>"editor"</em>, "input_field", "checkbox", "radio", "dropdown", "toggle", "slider"}</td>
<td>must</td>
<td>specifies how the frontend renders the parameter</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>must</td>
<td>Label for the parameter</td>
<td>frontend feature</td>
</tr>
<tr>
<td>type</td>
<td>one of {"number", "text"}</td>
<td>opt</td>
<td>Type of the input field</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>number for numerical "input_field"; array of numbers for a range slider</td>
<td>opt</td>
<td>the default value(s) shown in frontend</td>
<td></td>
</tr>
<tr>
<td>values</td>
<td>array of strings</td>
<td>must for <em>gui_type</em> "checkbox", "radio", "dropdown", "toggle"</td>
<td>specifies the allowed values</td>
<td></td>
</tr>
<tr>
<td>min</td>
<td>number</td>
<td>opt</td>
<td>minimal allowed value</td>
<td></td>
</tr>
<tr>
<td>max</td>
<td>number</td>
<td>opt</td>
<td>maximal allowed value</td>
<td></td>
</tr>
<tr>
<td>step</td>
<td>number</td>
<td>opt</td>
<td>defines together with <em>min</em> and <em>max</em> attributes a finite set of allowed values</td>
<td></td>
</tr>
<tr>
<td>validation</td>
<td>one of {"range", "pattern", "anyof", "oneof"}</td>
<td>must</td>
<td>See <a href="#parameter-checking-semantics">Parameter validation semantics</a> for details</td>
<td></td>
</tr>
<tr>
<td>selected</td>
<td>array of strings for <em>gui_type</em> "checkbox"/"toggle"; string for <em>gui_type</em> "radio"</td>
<td>opt</td>
<td>specifies defaults value/values for frontend</td>
<td>the strings have to be part of <em>values</em>; for "toogle" given values mean <em>true</em></td>
</tr>
<tr>
<td>disabled</td>
<td>array of strings</td>
<td>opt</td>
<td>Shows disabled options in frontend</td>
<td>sting has to be part of <em>values</em>; suited, e.g., to show possibilities that are part of a software, but deactivated</td>
</tr>
<tr>
<td>multiple</td>
<td>bool</td>
<td>opt (<em>false</em>)</td>
<td>Specifies for <em>gui_type</em> "dropdown"/"slider" if multiple values can be selected</td>
<td>If true, <em>selected</em>/<em>value</em> has to be an array; a dropdown list is then rendered as listbox</td>
</tr>
<tr>
<td>vertical</td>
<td>bool</td>
<td>opt (<em>false</em>)</td>
<td>Specifies for <em>gui_type</em> "slider" whether it is rendered horizontal or vertical</td>
<td></td>
</tr>
<tr>
<td>pattern</td>
<td>string</td>
<td>opt</td>
<td>A regex pattern for validation</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="parameter-validation-semantics">Parameter Validation Semantics</h4>
<p>Four types of validation are implemented at the moment:</p>
<ul>
<li><strong>range</strong>: A numerical value is checked whether is is between <em>min</em> and <em>max</em>. If <em>step</em> is given a finite number of possible values is computed and the value has to be within this set.</li>
<li><strong>pattern</strong>: A regex pattern that the text value has to fulfill.</li>
<li><strong>oneof</strong>: The value has to be included in <em>values</em> and, if given, not in <em>disabled</em>.</li>
<li><strong>anyof</strong>: All values have to be included in <em>values</em> and, if given, not in <em>disabled</em>.</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
